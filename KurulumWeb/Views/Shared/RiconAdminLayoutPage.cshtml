@using KurulumWeb.Resources

<!doctype html>
<html>

<head>
    <!-- META DATA -->
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Ricon Kurulum">
    <meta name="author" content="Ricon Mobile">
    <meta name="keywords"
          content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">
    <script src="~/Scripts/dil.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.8/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" href="~/assets/images/brand/favicon.ico" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- TITLE -->
    <title>Ricon Kurulum </title>

    <!-- BOOTSTRAP CSS -->
    <link id="style" href="~/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- STYLE CSS -->
    <link href="~/assets/css/style.css" rel="stylesheet">

    <!-- Plugins CSS -->
    <link href="~/assets/css/plugins.css" rel="stylesheet">

    <!--- FONT-ICONS CSS -->
    <link href="~/assets/css/icons.css" rel="stylesheet">

    <!-- INTERNAL Switcher css -->
    <link href="~/assets/switcher/css/switcher.css" rel="stylesheet">
    <link href="~/assets/switcher/demo.css" rel="stylesheet">
    <style>
        .hor-content {
            min-height: calc(0vh - 0px) !important;
        }

        .page-header {
            margin: -2.5rem -15rem 1.5rem;
        }

        .page {
            min-height: 93vh;
        }
    </style>
</head>
@{
    HttpCookie cookie = HttpContext.Current.Request.Cookies["_culture"];
    var culture = "en-US";
    if (cookie != null)
    {
        culture = cookie.Value;
    }
}
<body class="app ltr light-mode scrollable-layout horizontal">

    <!--#region GLOBAL-LOADER -->
    <div id="global-loader">
        <img src="~/assets/images/loader.svg" class="loader-img" alt="Loader">
    </div>
    <!-- #endregion -->
    <!--#region PAGE -->
    <div class="page" style="background-color:lightgray;font-family:Montserrat,sans-serif">
        <div class="page-main">
            <!-- app-Header -->
            <div class="app-header header sticky">
                <div class="container-fluid main-container">
                    <div class="d-flex align-items-start" style="float:left">
                        <a class="logo-horizontal" href="RegisteredRouter" style="transform:scale(0.41);margin-left:17%">
                            <img src="../assets/images/brand/Ricon_Vector_Logo_2018.png" style="margin-inline-end:2em;margin-block-end:-5em;margin-top:7%; margin-left:41%;" class="header-brand-img" />
                        </a>
                    </div>
                    <div class="d-flex align-items-end" style="margin-top:0.6%;float:right">
                        <a class="logo-horizontal justify-content-center" href="RegisteredRouter" style="transform:scale(0.9)" ;>
                            @*<img src="../assets/images/brand/sisal_logo.png" style="margin-inline-end:18rem;margin-inline-start:2em;margin-block-end:-4em;margin-block-start:-1em" class="mdi-menu-right" alt="logo" />*@
                        </a>
                    </div>
                    <div class="d-flex" style="align-items:center">
                        <button class="navbar-toggler navresponsive-toggler d-lg-none ms-auto" type="button"
                                data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent-4"
                                aria-controls="navbarSupportedContent-4" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon fe fe-more-vertical" style="float:right"></span>
                        </button>
                        <a aria-label="Hide Sidebar" class="app-sidebar__toggle" data-bs-toggle="sidebar" href="javascript:void(0)"></a>
                        <!-- sidebar-toggle-->
                        <!-- LOGO -->
                        <div class="d-flex order-lg-2 ms-9  header-right-icons" style="margin-inline-end:-3em;margin-inline-start:-0.5rem !important">
                            <!-- SEARCH -->
                            <div class="d-flex justify-content-end">
                            </div>
                            <div class="navbar navbar-collapse ms-9 responsive-navbar p-0">
                                <div class="collapse navbar-collapse ms-3" id="navbarSupportedContent-4">
                                    <div class="d-flex order-lg-2 ms-8">
                                        <div class="d-flex country ms-8">
                                            <a style="margin-block-start:0rem !important" class="nav-link icon ms-9 text-center" data-bs-target="#country-selector"
                                               data-bs-toggle="modal">
                                                <i class="fa fa-language"></i><span class="fs-16 ms-2 d-none d-xl-block"></span>
                                            </a>
                                        </div>
                                        <!-- COUNTRY -->
                                        <!-- SIDE-MENU -->
                                        <div class="dropdown d-flex profile-1">
                                            <a href="javascript:void(0)" data-bs-toggle="dropdown" class="nav-link leading-none d-flex">
                                                <img src="../assets/images/users/user.png" alt="profile-user"
                                                     class="avatar  profile-user brround cover-image">
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                                <div class="drop-heading">
                                                    <div class="text-center">
                                                        <h5 class="text-dark mb-0 fs-14 fw-semibold">@Session["UserName"]</h5>
                                                    </div>
                                                </div>
                                                <div class="dropdown-divider m-0"></div>
                                                <a class="dropdown-item" href=@Url.Action("Login", "Login")>
                                                    <i class="dropdown-icon fe fe-alert-circle"></i> @Resources.L254
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="margin-left:40%">
                    <span class="fs-16 ms-2 d-none d-xl-block" style="color:#6C5FFC; font:16px; font-family:sans-serif; font-weight:bold">RICONAPPS ZERO TOUCH PROVISIONING</span>
                </div>
            </div>
            <!-- /app-Header -->
            <!--APP-SIDEBAR-->
            <div class="sticky" style="justify-content:center">
                <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
                <div class="app-sidebar">
                    <div class="side-header">
                        <a class="header-brand1" href="index.html">
                        </a>
                        <!-- LOGO -->
                    </div>
                    <div style="text-align:center">
                        <div class="main-sidemenu">
                            <div class="slide-left disabled" id="slide-left">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     fill="#7b8191" width="24" height="24" viewBox="0 0 24 24">
                                    <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" />
                                </svg>
                            </div>
                            <ul class="side-menu" style="justify-content:center">
                                <li class="slide">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="RegisteredRouter" style="font-size: 17px;color:#000000">
                                        <i class="side-menu__icon fe fe-home"></i><span class="side-menu__label">@Resources.L241</span>
                                    </a>
                                </li>
                                <li class="slide" style="margin-left:7%">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="javascript:void(0)" style="font-size:15px;color:#000000">
                                        <i class="side-menu__icon fe fe-users"></i>
                                        <span class="side-menu__label">@Resources.L314</span><i class="angle fe fe-chevron-right"></i>
                                    </a>
                                    <ul class="slide-menu">
                                        <li class="panel sidetab-menu">
                                            <div class="tab-menu-heading p-0 pb-2 border-0">
                                                <div class="tabs-menu ">
                                                    <!-- Tabs -->
                                                    <ul class="nav panel-tabs">
                                                        <li><a href="#side25" class="d-flex active" data-bs-toggle="tab"><i class="fe fe-monitor me-2"></i><p>@Resources.L241</p></a></li>
                                                        <li><a href="#side26" data-bs-toggle="tab" class="d-flex"><i class="fe fe-message-square me-2"></i><p>@Resources.L243</p></a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="panel-body tabs-menu-body p-0 border-0">
                                                <div class="tab-content">
                                                    <div class="tab-pane active" id="side25">
                                                        <ul class="sidemenu-list">
                                                            <li class="side-menu-label1"><a href="javascript:void(0)">@Resources.L251</a></li>
                                                            <li class="sub-slide">
                                                                <a class="slide-item" style="color:#000000" data-bs-toggle="sub-slide" href="ManageAccounts">
                                                                    @Resources.L317
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <li class="slide" style="margin-left:6%">
                                    <a class="side-menu__item has-link" data-bs-toggle="slide" href="javascript:void(0)" style="font-size:15px;color:#000000">
                                        <i class="side-menu__icon fe fe-edit-3"></i><span class="side-menu__label">@Resources.L247</span><i class="angle fe fe-chevron-right"></i>
                                    </a>
                                    <ul class="slide-menu">
                                        <li class="panel sidetab-menu">

                                            <div class="panel-body tabs-menu-body p-0 border-0">
                                                <div class="tab-content">
                                                    <div class="tab-pane active" id="side21">
                                                        <ul class="sidemenu-list">
                                                            <li class="side-menu-label1"><a href="javascript:void(0)">@Resources.L251</a></li>
                                                            <li class="sub-slide">
                                                                <a class="slide-item" style="color:#000000" data-bs-toggle="sub-slide" href="Setup">
                                                                    <span class="sub-side-menu__label">@Resources.L370</span>
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!--/APP-SIDEBAR-->
            @RenderBody()
            <!--app-content open-->
        </div>
    </div>
    <!--#region Country-selector modal-->
    @using (Html.BeginForm("SetCulture", "Login"))
    {
        @Html.Hidden("cultureText")
        <div class="modal fade" id="country-selector">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content country-select-modal">
                    <div class="modal-header">
                        <h6 class="modal-title">Choose Country</h6>
                        <button aria-label="Close" class="btn-close"
                                data-bs-dismiss="modal" type="button">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <ul class="row p-3">
                            <li class="col-lg-6 mb-2">
                                <a href="#" class="btn btn-country btn-lg btn-block" onclick="changeLanguage('en-US')">
                                    <span class="country-selector">
                                        <img class="me-3 language" src="../assets/images/flags-img/en.png" id="langEng" data-name="English" alt="">
                                    </span>English
                                </a>
                            </li>
                            <li class="col-lg-6 mb-2">
                                <a href="#" onclick="changeLanguage('it-IT')" class="btn btn-country btn-lg btn-block">
                                    <span class="country-selector">
                                        <img class="me-3 language" src="../assets/images/flags-img/italya.png" id="langIta" data-name="İtaliano" alt="">
                                    </span>Italiano
                                </a>
                            </li>
                            <li class="col-lg-6 mb-2">
                                <a href="#" onclick="changeLanguage('fr-FR')" class="btn btn-country btn-lg btn-block">
                                    <span class="country-selector">
                                        <img class="me-3 language" src="../assets/images/flags-img/fransa.png" id="langFra" data-name="Français" alt="">
                                    </span>France
                                </a>
                            </li>
                            <li class="col-lg-6 mb-2">
                                <a href="#" onclick="changeLanguage('de-DE')" class="btn btn-country btn-lg btn-block">
                                    <span class="country-selector">
                                        <img class="me-3 language" src="../assets/images/flags-img/almanya.png" id="langDe" data-name="Germain" alt="">
                                    </span>Deutsch
                                </a>
                            </li>
                            <li class="col-lg-6 mb-2">
                                <a href="#" onclick="changeLanguage('tr-TR')" class="btn btn-country btn-lg btn-block">
                                    <span class="country-selector">
                                        <img class="me-3 language" src="../assets/images/flags-img/aa.png" id="langTr" data-name="Turkey" alt="">
                                    </span>Türkçe
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    }
    <!-- #endregion-->
    <!--#region ROW-4 OPEN   FOOTER -->
    <div class="footer border-top-0 footer-1" style=" position: relative; display: -ms-flexbox; display: flex; -ms-flex-direction: column; flex-direction: column; min-width: 0; word-wrap: break-word; background-color: #fff; background-clip: border-box; border: 1px solid rgba(0,0,0,.125); border-radius: 0.25rem;">
        <div class="container">
            <div class="row align-items-center flex-row-reverse">
                <div class="col-lg-12 col-sm-12 mt-3 mt-lg-0 text-center">
                    Copyright © 2023. All rights reserved.
                </div>
            </div>
        </div>
    </div>
    <!--#endregion-->
    <!--#region BACK-TO-TOP -->
    <a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>
    <!--#endregion-->
    <!--#endregion-->
    <!--#region JQUERY JS -->
    <script src="../assets/js/jquery.min.js"></script>
    <!--#endregion-->
    <script type="text/javascript">
        $(document).ready(function () {
            // Modal kapandığında sayfayı yenile
            $('#closeModal3').on('click', function () {
                location.reload();
            });
            $('#closeModal1').on('click', function () {
                location.reload();
            });
            $('#closeModal2').on('click', function () {
                location.reload();
            });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var checkboxDefault = document.getElementById("flexCheckDefault");
            var checkboxChecked = document.getElementById("flexCheckChecked");

            checkboxDefault.addEventListener("change", function () {
                if (checkboxDefault.checked) {
                    checkboxChecked.checked = false;
                }
            });

            checkboxChecked.addEventListener("change", function () {
                if (checkboxChecked.checked) {
                    checkboxDefault.checked = false;
                }
            });
        });
    </script>
    <!--#region kapat-->
    <!-- BOOTSTRAP JS -->
    <script src="../assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>

    <!-- SPARKLINE JS-->
    <script src="../assets/js/jquery.sparkline.min.js"></script>

    <!-- Sticky js -->
    <script src="../assets/js/sticky.js"></script>

    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery UI CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- jQuery UI JavaScript -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- CHART-CIRCLE JS-->
    <script src="../assets/js/circle-progress.min.js"></script>

    <!-- PIETY CHART JS-->
    <script src="../assets/plugins/peitychart/jquery.peity.min.js"></script>
    <script src="../assets/plugins/peitychart/peitychart.init.js"></script>

    <!-- SIDEBAR JS -->
    <script src="../assets/plugins/sidebar/sidebar.js"></script>

    <!-- Perfect SCROLLBAR JS-->
    <script src="../assets/plugins/p-scroll/perfect-scrollbar.js"></script>


    <!-- INTERNAL CHARTJS CHART JS-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- INTERNAL SELECT2 JS -->
    <script src="../assets/plugins/select2/select2.full.min.js"></script>

    <!-- INTERNAL Data tables js-->
    <script src="../assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
    <script src="../assets/plugins/datatable/js/dataTables.bootstrap5.js"></script>
    <script src="../assets/plugins/datatable/dataTables.responsive.min.js"></script>

    <!-- INTERNAL APEXCHART JS -->
    <script src="../assets/js/apexcharts.js"></script>
    <script src="../assets/plugins/apexchart/irregular-data-series.js"></script>

    <!-- INTERNAL Flot JS -->
    <script src="../assets/plugins/flot/jquery.flot.js"></script>
    <script src="../assets/plugins/flot/jquery.flot.fillbetween.js"></script>
    <script src="../assets/plugins/flot/chart.flot.sampledata.js"></script>
    <script src="../assets/plugins/flot/dashboard.sampledata.js"></script>

    <!-- INTERNAL Vector js -->
    <script src="../assets/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="../assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>

    <!-- SIDE-MENU JS-->
    <script src="../assets/plugins/sidemenu/sidemenu.js"></script>


    <!-- INTERNAL INDEX JS -->
    <script src="../assets/js/index.js"></script>

    <!-- Color Theme js -->
    <script src="../assets/js/themeColors.js"></script>

    <!-- CUSTOM JS -->
    <script src="../assets/js/custom.js"></script>

    <!-- Custom-switcher -->
    <script src="../assets/js/custom-swicher.js"></script>

    <!-- Switcher js -->
    <script src="../assets/switcher/js/switcher.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <!--#endregion-->
    <!--#region Search JS-->
    <script>
        $('.select2').select2();
    </script>
    <!--#endregion-->
    <!--#region Grafik JS-->
    <script>
       $(document).ready(function () {
    $.ajax({
        url: '/Home/GetInstallRatio',
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            if (data != null) {
                var registeredCount = data.RegisteredCount;
                var basicCount = data.BasicCount;
                var installCount = data.InstallCount;
                var ratio = data.Ratio;

                // HTML elemanlarına değerleri yaz
                $('#registeredCountSpan').text(registeredCount);
                $('#installCountSpan').text(installCount);
                $('#basicCountSpan').text(basicCount);
                $('#ratioSpan').text(ratio.toFixed(2) + '%');

                // Grafik oluşturma
                var ctx = document.getElementById('recentorders').getContext('2d');

                var myChart = new Chart(ctx, {
                    type: 'doughnut', // Grafik türü
                    data: {
                        labels: ['@Resources.L416', '@Resources.L417', '@Resources.L418'], // Grafik etiketleri
                        datasets: [{
                            data: [registeredCount, basicCount, installCount], // Veri seti
                            backgroundColor: ['#09ad95', '#05c3fb', '#ffcc00'], // Renkler
                            borderWidth: 1,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true
                            }
                        }
                    }
                });

                // Tabloda toplam cihaz sayısı ve install oranını göster
                $('#installRatioTable').html(`
                    <tr>
                        <td>Total Registered: ${registeredCount}</td>
                        <td>Install Ratio: ${ratio.toFixed(2)}%</td>
                    </tr>
                `);
            }
        },
        error: function (xhr, status, error) {
            console.error('AJAX error:', status, error);
        }
    });
});

    </script>
    <!--#endregion-->
    <!--#region Dil JS-->
    <script>
        $(document).ready(function () {

        var culture = '@culture';
        setFlag(culture);
    });

    function changeLanguage(langType) {
        var culture = '@culture';
        if(culture != langType){
            $("#cultureText").val(langType);
             $("#langEng").parents("form").submit();
        }
    }
    </script>
    <!--#endregion-->

</body>
</html>